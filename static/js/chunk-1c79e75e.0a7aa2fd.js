(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1c79e75e"],{"244c":function(i,a,e){},"497e":function(i,a,e){i.exports=e.p+"static/img/tf-introduce-1.99b8dd1d.png"},"4ec9":function(i,a,e){i.exports=e.p+"static/img/tf-introduce-2.0bd73412.png"},"7f2c":function(i,a,e){i.exports=e.p+"static/img/tf-introduce-3.4cc0c05e.png"},da0c:function(i,a,e){"use strict";e("244c")},e11e:function(i,a,e){"use strict";e.r(a);var n=function(){var i=this,a=i.$createElement,e=i._self._c||a;return e("div",{staticClass:"app-container"},[e("div",{staticClass:"map-container"},[e("Map",{attrs:{url:i.configUrl},on:{onload:i.onMapload}}),e("div",{staticClass:"div-nav-group"},[e("transition",{attrs:{name:"fade-fromSmallX"}},[i.isFadeInit?e("div",{staticClass:"div-nav",on:{click:function(a){return i.clickHomeBTN()}}},[i._v("首页")]):i._e()]),e("transition",{attrs:{name:"fade-fromSmallX"}},[i.isFadeInit?e("div",{staticClass:"div-nav",on:{click:function(a){return i.clickProjectBTN()}}},[i._v("公司项目")]):i._e()]),e("transition",{attrs:{name:"fade-fromSmallX"}},[i.isFadeInit?e("div",{staticClass:"div-nav",on:{click:function(a){return i.clickIntroduceBTN()}}},[i._v("公司简介")]):i._e()])],1),e("div",{staticClass:"div-btn-container",on:{click:function(a){i.isShowBuildingLayer=!i.isShowBuildingLayer}}},[e("i",{staticClass:"el-icon-office-building"})])],1),e("transition",{attrs:{name:"fade-fromRight"}},[i.isShowIntroduce?e("div",{staticClass:"introduce-container"},[e("el-carousel",{attrs:{autoplay:!1}},i._l(i.list_img,(function(i,a){return e("el-carousel-item",{key:a},[e("el-image",{staticStyle:{width:"100%",height:"100%"},attrs:{src:i}})],1)})),1)],1):i._e()])],1)},t=[],r=(e("d81d"),e("b0c0"),e("d540")),c=e("f7cd"),o=(e("e511"),null),s=null,l=null,d=null;function p(){var i=new c["layer"].DivLayer;return i}function u(i){o=i}function h(){v(),s=o.clock.currentTime.secondsOfDay,o.on(c["EventType"].clockTick,m)}function v(){o.off(c["EventType"].clockTick,m)}function m(i){var a=1,e=o.clock.currentTime.secondsOfDay,n=(e-s)/1e3;s=e,o.scene.camera.rotate(Cesium.Cartesian3.UNIT_Z,-a*n)}function f(i){o.setCameraView(i)}function g(i,a){for(var e in a){var n=a[e],t=new c["graphic"].DivGraphic({name:n.name,position:[n.lng,n.lat],graphicType:"div",sourceData:n,style:{html:'<div class="mars3d-divlabel">\n                            <div class="mars3d-divlabel-text">'+n.name+"</div>\n                        </div>",horizontalOrigin:Cesium.HorizontalOrigin.LEFT,verticalOrigin:Cesium.VerticalOrigin.CENTER,distanceDisplayCondition:new Cesium.DistanceDisplayCondition(1e6,1e7)}});i.addGraphic(t),t.testPoint=!1,y(i,n.list_project)}}function y(i,a){for(var e in a){var n=a[e];w(i,n)}}function w(i,a){var e="#f09e28";a.url&&""!=a.url&&(e="#f33349");var n=new c["graphic"].DivLightPoint({position:a.position,graphicType:"point",sourceData:a,style:{color:e,distanceDisplayCondition:new Cesium.DistanceDisplayCondition(0,1e6)}});i.addGraphic(n),n.bindTooltip(a.name)}function C(i,a){L(i,a)}function L(i,a){l=new c["graphic"].DivGraphic({name:a.name,graphicType:"div",position:a.position,sourceData:a,style:{html:'<div class="divpoint divpoint-theme-29baf1" @click="clickDistrict">\n                    <div class="divpoint-wrap">\n                        <div class="area">\n                            <div class="arrow-lt"></div>\n                            <div class="b-t"></div>\n                            <div class="b-r"></div>\n                            <div class="b-b"></div>\n                            <div class="b-l"></div>\n                            <div class="arrow-rb"></div>\n                            <div class="label-wrap">\n                                <div class="title">'+a.name+'</div>\n                                <div class="label-content">\n                                    <div class="data-li">\n                                        <div class="data-value"><span class="label-wrap">'+a.des+'</span>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        <div class="b-t-l"></div>\n                        <div class="b-b-r"></div>\n                    </div>\n                    <div class="arrow" ></div>\n                </div>',horizontalOrigin:Cesium.HorizontalOrigin.LEFT,verticalOrigin:Cesium.VerticalOrigin.BOTTOM,distanceDisplayCondition:new Cesium.DistanceDisplayCondition(0,1e6)},pointerEvents:!0}),i.addGraphic(l),l.testPoint=!1}function _(){var i=new c["layer"].TilesetLayer({name:"天津市建筑物",url:"config_tfprojectshow/3dtiles/building_tj/tileset.json",maximumScreenSpaceError:1,maximumMemoryUsage:1024,showClickFeature:!1});return i.style=new Cesium.Cesium3DTileStyle({color:{conditions:[["true","rgba(255, 255, 255, 1)"]]}}),i}function b(i,a){var e=Cesium.Cartesian3.fromDegrees(a.lng,a.lat,1),n=new c["graphic"].CircleEntity({name:"data.name",position:e,style:{radius:25e4,material:c["MaterialUtil"].createMaterialProperty(c["MaterialType"].CircleWave,{color:"#ff0000",count:1,speed:20}),distanceDisplayCondition:new Cesium.DistanceDisplayCondition(1e6,1e7)}});i.addGraphic(n)}function D(i,a){for(var e=Cesium.Cartesian3.fromDegrees(a[0].lng,a[0].lat,1),n=c["MaterialUtil"].createMaterial(c["MaterialType"].LineFlow,{image:"lineClr.png",color:new Cesium.Color(1,201/255,38/255,1),speed:10}),t=0;t<a.length;t++){var r=a[t],o=Cesium.Cartesian3.fromDegrees(r.lng,r.lat,1),s=c["PolyUtil"].getLinkedPointList(e,o,4e4,100),l=new c["graphic"].PolylinePrimitive({positions:s,style:{width:2,material:n,distanceDisplayCondition:new Cesium.DistanceDisplayCondition(1e6,1e7)}});i.addGraphic(l)}}function T(i,a){d&&i.removeGraphic(d);var e=a.geometry.coordinates[0][0];d=new c["graphic"].WallEntity({positions:e,style:{diffHeight:1e4,color:"#00ffff",distanceDisplayCondition:new Cesium.DistanceDisplayCondition(0,1e6)}}),i.addGraphic(d),d.bindTooltip(a.properties.name)}var k={name:"Index",components:{Map:r["a"]},created:function(){var i=this;c["Resource"].fetchJson({url:"config_tfprojectshow/projectdata.json"}).then((function(a){i.list_data=a.list_data,i.main_camera=a.main_camera,i.introduce_camera=a.introduce_camera})),c["Resource"].fetchJson({url:"config_tfprojectshow/provincal.geojson"}).then((function(a){i.list_provincial=a.features})),this.buildingLayer=_()},mounted:function(){this.isFadeInit=!0},data:function(){return{isFadeInit:!1,list_data:[],main_camera:{},introduce_camera:{},list_provincial:[],configUrl:"config_tfprojectshow/config.json",map:null,graphicLayer:p(),previousTime:null,buildingLayer:null,isShowIntroduce:!1,isShowBuildingLayer:!1,list_img:[e("497e"),e("4ec9"),e("7f2c")]}},watch:{isShowIntroduce:{handler:function(i,a){i?h():v()}},isShowBuildingLayer:{handler:function(i,a){i?(this.map.addLayer(this.buildingLayer),this.map.setCameraView({lng:117.222219,lat:39.091924,alt:5e4})):this.buildingLayer&&this.map.removeLayer(this.buildingLayer)}}},methods:{clickHomeBTN:function(){this.isShowIntroduce=!1,this.graphicLayer.clear(),this.map.flyHome(),v(),this.map.removeLayer(this.buildingLayer)},clickProjectBTN:function(){this.isShowIntroduce=!1,this.graphicLayer.clear(),this.map.removeLayer(this.buildingLayer),v(),f(this.main_camera),g(this.graphicLayer,this.list_data),b(this.graphicLayer,this.list_data[0]),D(this.graphicLayer,this.list_data)},clickIntroduceBTN:function(){this.map.setCameraView(this.introduce_camera),this.graphicLayer.clear(),this.map.removeLayer(this.buildingLayer),this.isShowIntroduce=!0},showProvinceBound:function(i){for(var a in this.list_provincial)this.list_provincial[a].properties.name==i.name&&T(this.graphicLayer,this.list_provincial[a])},onMapload:function(i){var a=this;this.map=i,i.clock.multiplier=250,u(i),i.addLayer(this.graphicLayer),i.on(c["EventType"].click,(function(i){null!=i.graphic&&"undefined"!=typeof i.graphic||l&&a.graphicLayer.removeGraphic(l)})),this.graphicLayer.on(c["EventType"].click,(function(e){if(e.graphic){var n=e.graphic.options.graphicType,t=e.graphic.options.sourceData;"point"==n?"province"==t.type||"project"==t.type&&(a.graphicLayer.removeGraphic(l),C(a.graphicLayer,t)):"div"==n&&("province"==t.type?(i.setCameraView({lng:t.lng,lat:t.lat,alt:t.alt}),a.showProvinceBound(t)):"project"==t.type&&t.url&&""!=t.url&&window.open(t.url))}else l&&a.graphicLayer.removeGraphic(l)}))}}},S=k,j=(e("da0c"),e("2877")),I=Object(j["a"])(S,n,t,!1,null,null,null);a["default"]=I.exports}}]);