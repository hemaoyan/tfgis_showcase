(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-libs~789f5969"],{"5a72":function(t,e,n){"use strict";n.d(e,"a",(function(){return j}));var i=n("7fae"),o=n("6d8b"),a=n("e0d3"),r=n("2dc5"),p=n("0da8"),l=n("76a5"),c=n("2306"),h=n("f934"),u=n("3842"),s=n("6cb7"),d=n("b12f"),g=n("861c"),f=n("6d72"),v=a["o"](),_={path:null,compoundPath:null,group:r["a"],image:p["a"],text:l["a"]},m=function(t){var e=t.graphic;o["isArray"](e)?e[0]&&e[0].elements?t.graphic=[t.graphic[0]]:t.graphic=[{elements:e}]:e&&!e.elements&&(t.graphic=[{elements:[e]}])},y=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.preventAutoZ=!0,n}return Object(i["b"])(e,t),e.prototype.mergeOption=function(e,n){var i=this.option.elements;this.option.elements=null,t.prototype.mergeOption.call(this,e,n),this.option.elements=i},e.prototype.optionUpdated=function(t,e){var n=this.option,i=(e?n:t).elements,r=n.elements=e?[]:n.elements,p=[];this._flatten(i,p,null);var l=a["q"](r,p,"normalMerge"),c=this._elOptionsToUpdate=[];o["each"](l,(function(t,e){var n=t.newOption;n&&(c.push(n),G(t,n),M(r,e,n),I(r[e],n))}),this);for(var h=r.length-1;h>=0;h--)null==r[h]?r.splice(h,1):delete r[h].$action},e.prototype._flatten=function(t,e,n){o["each"](t,(function(t){if(t){n&&(t.parentOption=n),e.push(t);var i=t.children;"group"===t.type&&i&&this._flatten(i,e,t),delete t.children}}),this)},e.prototype.useElOptionsToUpdate=function(){var t=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,t},e.type="graphic",e.defaultOption={elements:[]},e}(s["a"]),O=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return Object(i["b"])(e,t),e.prototype.init=function(){this._elMap=o["createHashMap"]()},e.prototype.render=function(t,e,n){t!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=t,this._updateElements(t),this._relocate(t,n)},e.prototype._updateElements=function(t){var e=t.useElOptionsToUpdate();if(e){var n=this._elMap,i=this.group;o["each"](e,(function(e){var o=a["e"](e.id,null),r=null!=o?n.get(o):null,p=a["e"](e.parentId,null),h=null!=p?n.get(p):i,u=e.type,s=e.style;"text"===u&&s&&e.hv&&e.hv[1]&&(s.textVerticalAlign=s.textBaseline=s.verticalAlign=s.align=null);var d=e.textContent,g=e.textConfig;if(s&&Object(f["c"])(s,u,!!g,!!d)){var _=Object(f["a"])(s,u,!0);!g&&_.textConfig&&(g=e.textConfig=_.textConfig),!d&&_.textContent&&(d=_.textContent)}var m=w(e);var y=e.$action||"merge";"merge"===y?r?r.attr(m):b(o,h,m,n):"replace"===y?(x(r,n),b(o,h,m,n)):"remove"===y&&x(r,n);var O=n.get(o);if(O&&d)if("merge"===y){var C=O.getTextContent();C?C.attr(d):O.setTextContent(new l["a"](d))}else"replace"===y&&O.setTextContent(new l["a"](d));if(O){var G=v(O);G.__ecGraphicWidthOption=e.width,G.__ecGraphicHeightOption=e.height,T(O,t,e),c["setTooltipConfig"]({el:O,componentModel:t,itemName:O.name,itemTooltipOption:e.tooltip})}}))}},e.prototype._relocate=function(t,e){for(var n=t.option.elements,i=this.group,o=this._elMap,r=e.getWidth(),p=e.getHeight(),l=0;l<n.length;l++){var c=n[l],s=a["e"](c.id,null),d=null!=s?o.get(s):null;if(d&&d.isGroup){var g=d.parent,f=g===i,_=v(d),m=v(g);_.__ecGraphicWidth=Object(u["p"])(_.__ecGraphicWidthOption,f?r:m.__ecGraphicWidth)||0,_.__ecGraphicHeight=Object(u["p"])(_.__ecGraphicHeightOption,f?p:m.__ecGraphicHeight)||0}}for(l=n.length-1;l>=0;l--){c=n[l],s=a["e"](c.id,null),d=null!=s?o.get(s):null;if(d){g=d.parent,m=v(g);var y=g===i?{width:r,height:p}:{width:m.__ecGraphicWidth,height:m.__ecGraphicHeight};h["i"](d,c,y,null,{hv:c.hv,boundingMode:c.bounding})}}},e.prototype._clear=function(){var t=this._elMap;t.each((function(e){x(e,t)})),this._elMap=o["createHashMap"]()},e.prototype.dispose=function(){this._clear()},e.type="graphic",e}(d["a"]);function b(t,e,n,i){var a=n.type;var r=o["hasOwn"](_,a)?_[a]:c["getShapeClass"](a);var p=new r(n);e.add(p),i.set(t,p),v(p).__ecGraphicId=t}function x(t,e){var n=t&&t.parent;n&&("group"===t.type&&t.traverse((function(t){x(t,e)})),e.removeKey(v(t).__ecGraphicId),n.remove(t))}function w(t){return t=o["extend"]({},t),o["each"](["id","parentId","$action","hv","bounding","textContent"].concat(h["a"]),(function(e){delete t[e]})),t}function C(t,e){var n;return o["each"](e,(function(e){null!=t[e]&&"auto"!==t[e]&&(n=!0)})),n}function G(t,e){var n=t.existing;if(e.id=t.keyInfo.id,!e.type&&n&&(e.type=n.type),null==e.parentId){var i=e.parentOption;i?e.parentId=i.id:n&&(e.parentId=n.parentId)}e.parentOption=null}function M(t,e,n){var i=o["extend"]({},n),a=t[e],r=n.$action||"merge";"merge"===r?a?(o["merge"](a,i,!0),h["h"](a,i,{ignoreSize:!0}),h["c"](n,a)):t[e]=i:"replace"===r?t[e]=i:"remove"===r&&a&&(t[e]=null)}function I(t,e){if(t&&(t.hv=e.hv=[C(e,["left","right"]),C(e,["top","bottom"])],"group"===t.type)){var n=t,i=e;null==n.width&&(n.width=i.width=0),null==n.height&&(n.height=i.height=0)}}function T(t,e,n){var i=Object(g["a"])(t).eventData;t.silent||t.ignore||i||(i=Object(g["a"])(t).eventData={componentType:"graphic",componentIndex:e.componentIndex,name:t.name}),i&&(i.info=n.info)}function j(t){t.registerComponentModel(y),t.registerComponentView(O),t.registerPreprocessor(m)}}}]);